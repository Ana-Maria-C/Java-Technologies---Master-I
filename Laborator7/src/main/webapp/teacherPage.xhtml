<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Teacher Evaluations</title>
</h:head>
<h:body>

<h:form id="teacherPage">
    <h2>Evaluations for Teacher</h2>

    <p:commandButton value="Load Evaluations" action="#{evaluationBean.loadEvaluationsOfLoggedTeacher}" update="evaluationTable teacherPage" />

    <br/><br/>

    <p:dataTable id="evaluationTable" value="#{evaluationBean.evaluationsOfTeacher}" var="evaluation"
                 emptyMessage="No evaluations found for this teacher.">

        <p:column headerText="Subject">
            <h:outputText value="#{subjectBean.getSubjectById(evaluation.subject_id)}" />
        </p:column>

        <p:column headerText="Student">
            <h:outputText value="#{userBean.getUserById(evaluation.student_id)}" />
        </p:column>

        <p:column headerText="Activity Type">
            <h:outputText value="#{evaluation.activity_type}" />
        </p:column>

        <p:column headerText="Grade">
            <h:outputText value="#{evaluation.grade}" />
        </p:column>

        <p:column headerText="Comment">
            <h:outputText value="#{evaluation.comment}" />
        </p:column>

        <p:column headerText="Timestamp">
            <h:outputText value="#{evaluation.timestamp}" />
        </p:column>
    </p:dataTable>
    <br/>
    <br/>
    <h:commandButton value="Logout" action="#{userBean.logout}" />
</h:form>

</h:body>
</html>
